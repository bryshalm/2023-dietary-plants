Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 6
Rules claiming more threads will be scaled down.
Job stats:
job                    count    min threads    max threads
-------------------  -------  -------------  -------------
all                        1              1              1
run_sourmash_gather       39              1              1
run_sourmash_sketch       39              1              1
total                     79              1              1

Select jobs to execute...

[Fri Aug  4 04:44:29 2023]
rule run_sourmash_sketch:
    input: input/ERR11520706_1.fastq.gz, input/ERR11520706_2.fastq.gz
    output: output/sketches/ERR11520706.sig.zip
    jobid: 36
    reason: Missing output files: output/sketches/ERR11520706.sig.zip
    wildcards: sample=ERR11520706
    resources: tmpdir=/tmp

sourmash sketch dna -p scaled=1000,k=21,k=31,k=51,abund input/ERR11520706_1.fastq.gz input/ERR11520706_2.fastq.gz --name 'ERR11520706' -o output/sketches/ERR11520706.sig.zip

[Fri Aug  4 04:44:29 2023]
rule run_sourmash_sketch:
    input: input/ERR11520709_1.fastq.gz, input/ERR11520709_2.fastq.gz
    output: output/sketches/ERR11520709.sig.zip
    jobid: 42
    reason: Missing output files: output/sketches/ERR11520709.sig.zip
    wildcards: sample=ERR11520709
    resources: tmpdir=/tmp

sourmash sketch dna -p scaled=1000,k=21,k=31,k=51,abund input/ERR11520709_1.fastq.gz input/ERR11520709_2.fastq.gz --name 'ERR11520709' -o output/sketches/ERR11520709.sig.zip

[Fri Aug  4 04:44:29 2023]
rule run_sourmash_sketch:
    input: input/ERR11520716_1.fastq.gz, input/ERR11520716_2.fastq.gz
    output: output/sketches/ERR11520716.sig.zip
    jobid: 56
    reason: Missing output files: output/sketches/ERR11520716.sig.zip
    wildcards: sample=ERR11520716
    resources: tmpdir=/tmp

sourmash sketch dna -p scaled=1000,k=21,k=31,k=51,abund input/ERR11520716_1.fastq.gz input/ERR11520716_2.fastq.gz --name 'ERR11520716' -o output/sketches/ERR11520716.sig.zip

[Fri Aug  4 04:44:29 2023]
rule run_sourmash_sketch:
    input: input/ERR11520707_1.fastq.gz, input/ERR11520707_2.fastq.gz
    output: output/sketches/ERR11520707.sig.zip
    jobid: 38
    reason: Missing output files: output/sketches/ERR11520707.sig.zip
    wildcards: sample=ERR11520707
    resources: tmpdir=/tmp

sourmash sketch dna -p scaled=1000,k=21,k=31,k=51,abund input/ERR11520707_1.fastq.gz input/ERR11520707_2.fastq.gz --name 'ERR11520707' -o output/sketches/ERR11520707.sig.zip

[Fri Aug  4 04:44:29 2023]
rule run_sourmash_sketch:
    input: input/ERR11520702_1.fastq.gz, input/ERR11520702_2.fastq.gz
    output: output/sketches/ERR11520702.sig.zip
    jobid: 28
    reason: Missing output files: output/sketches/ERR11520702.sig.zip
    wildcards: sample=ERR11520702
    resources: tmpdir=/tmp

sourmash sketch dna -p scaled=1000,k=21,k=31,k=51,abund input/ERR11520702_1.fastq.gz input/ERR11520702_2.fastq.gz --name 'ERR11520702' -o output/sketches/ERR11520702.sig.zip

[Fri Aug  4 04:44:29 2023]
rule run_sourmash_sketch:
    input: input/ERR11520703_1.fastq.gz, input/ERR11520703_2.fastq.gz
    output: output/sketches/ERR11520703.sig.zip
    jobid: 30
    reason: Missing output files: output/sketches/ERR11520703.sig.zip
    wildcards: sample=ERR11520703
    resources: tmpdir=/tmp

sourmash sketch dna -p scaled=1000,k=21,k=31,k=51,abund input/ERR11520703_1.fastq.gz input/ERR11520703_2.fastq.gz --name 'ERR11520703' -o output/sketches/ERR11520703.sig.zip
[Fri Aug  4 04:44:35 2023]
Finished job 42.
1 of 79 steps (1%) done
Select jobs to execute...

[Fri Aug  4 04:44:35 2023]
rule run_sourmash_sketch:
    input: input/ERR11520705_1.fastq.gz, input/ERR11520705_2.fastq.gz
    output: output/sketches/ERR11520705.sig.zip
    jobid: 34
    reason: Missing output files: output/sketches/ERR11520705.sig.zip
    wildcards: sample=ERR11520705
    resources: tmpdir=/tmp

sourmash sketch dna -p scaled=1000,k=21,k=31,k=51,abund input/ERR11520705_1.fastq.gz input/ERR11520705_2.fastq.gz --name 'ERR11520705' -o output/sketches/ERR11520705.sig.zip
[Fri Aug  4 04:44:40 2023]
Finished job 56.
2 of 79 steps (3%) done
Select jobs to execute...

[Fri Aug  4 04:44:40 2023]
rule run_sourmash_sketch:
    input: input/ERR11520712_1.fastq.gz, input/ERR11520712_2.fastq.gz
    output: output/sketches/ERR11520712.sig.zip
    jobid: 48
    reason: Missing output files: output/sketches/ERR11520712.sig.zip
    wildcards: sample=ERR11520712
    resources: tmpdir=/tmp

sourmash sketch dna -p scaled=1000,k=21,k=31,k=51,abund input/ERR11520712_1.fastq.gz input/ERR11520712_2.fastq.gz --name 'ERR11520712' -o output/sketches/ERR11520712.sig.zip
[Fri Aug  4 04:44:42 2023]
Finished job 38.
3 of 79 steps (4%) done
Select jobs to execute...

[Fri Aug  4 04:44:42 2023]
rule run_sourmash_sketch:
    input: input/ERR11520691_1.fastq.gz, input/ERR11520691_2.fastq.gz
    output: output/sketches/ERR11520691.sig.zip
    jobid: 6
    reason: Missing output files: output/sketches/ERR11520691.sig.zip
    wildcards: sample=ERR11520691
    resources: tmpdir=/tmp

sourmash sketch dna -p scaled=1000,k=21,k=31,k=51,abund input/ERR11520691_1.fastq.gz input/ERR11520691_2.fastq.gz --name 'ERR11520691' -o output/sketches/ERR11520691.sig.zip
[Fri Aug  4 04:44:44 2023]
Finished job 28.
4 of 79 steps (5%) done
Select jobs to execute...

[Fri Aug  4 04:44:44 2023]
rule run_sourmash_sketch:
    input: input/ERR11520726_1.fastq.gz, input/ERR11520726_2.fastq.gz
    output: output/sketches/ERR11520726.sig.zip
    jobid: 76
    reason: Missing output files: output/sketches/ERR11520726.sig.zip
    wildcards: sample=ERR11520726
    resources: tmpdir=/tmp

sourmash sketch dna -p scaled=1000,k=21,k=31,k=51,abund input/ERR11520726_1.fastq.gz input/ERR11520726_2.fastq.gz --name 'ERR11520726' -o output/sketches/ERR11520726.sig.zip
[Fri Aug  4 04:44:44 2023]
Finished job 36.
5 of 79 steps (6%) done
Select jobs to execute...

[Fri Aug  4 04:44:44 2023]
rule run_sourmash_gather:
    input: output/sketches/ERR11520709.sig.zip
    output: output/gather/ERR11520709.gather.csv
    jobid: 41
    reason: Missing output files: output/gather/ERR11520709.gather.csv; Input files updated by another job: output/sketches/ERR11520709.sig.zip
    wildcards: sample=ERR11520709
    resources: tmpdir=/tmp

RuleException in rule run_sourmash_gather  in line 27 of /home/sjnair/2023-dietary-plants/Scripts/Snakemake/Snakefile:
NameError: The name 'sample' is unknown in this context. Did you mean 'wildcards.sample'?, when formatting the following:
sourmash gather output/sketches/{sample}.sig.zip ../../Sketched-db/db.plant-entrez-ref.sig.zip --threshold-bp 0 -k 51 -o {output}
